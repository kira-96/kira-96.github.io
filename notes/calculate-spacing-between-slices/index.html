<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.99.1"><title>Calculate Spacing Between Slices | kira's 博客</title><meta name=description content="kira's blog"><link rel=stylesheet href=https://kira-96.github.io/css/simpleness.css><link rel=canonical href=https://kira-96.github.io/notes/calculate-spacing-between-slices/><link rel=alternate type=application/rss+xml href title="kira's 博客"><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css rel=stylesheet><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="Calculate Spacing Between Slices"><link rel=apple-touch-icon sizes=152x152 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-180x180.png><link rel=icon href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon.ico><link rel=icon sizes=16x16 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-16x16.png><link rel=icon sizes=32x32 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-32x32.png><link rel=icon sizes=96x96 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-96x96.png><link rel=manifest href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/manifest.json><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css><script defer src=https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js></script></head><body class=container><nav class=navigation><div class=nav-left><div class="nav-item nav-title"><a href=https://kira-96.github.io/>kira's 博客</a></div><div class="nav-item nav-menu"><a href=/>Home</a>
<a href=/notes/>Notes</a></div></div><div class="nav-item nav-right fontawesome"><a href=https://github.com/kira-96/ target=_blank><i title=GitHub class="fab fa-github"></i></a>
<a href=https://kira-96.github.io/index.xml target=_blank><i title=RSS class="fas fa-rss"></i></a></div></nav><article class=post><header class=post-header><h1 style=text-align:center>Calculate Spacing Between Slices</h1><div class=post-metadata><time datetime=2021-04-30T10:26:13+08:00>April 30, 2021</time> &nbsp;
<i class="far fa-eye"></i>
<span id=/notes/calculate-spacing-between-slices/ class=leancloud_visitors data-flag-title="Calculate Spacing Between Slices"><span class=leancloud-visitors-count></span></span>&nbsp;
<i class="far fa-clock"></i>
37 s
&nbsp;
<i class="fas fa-folder"></i>
<a href=/categories/DICOM>DICOM</a>
&nbsp;</div></header><div class=post-text><p>计算切片间距的方法：</p><p>对于CT扫描出的断层图像，没有存储<strong>Spacing Between Slices</strong>信息，但可以利用位置信息计算得到。</p><p>需要先读取相邻两层切片的位置信息，假设为<code>pos1</code>和<code>pos2</code>，然后计算两个位置的距离即为切片间距。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// double pos1[3], pos2[3];</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> spacing = sqrt(
</span></span><span style=display:flex><span>    (pos1[<span style=color:#ae81ff>0</span>] - pos2[<span style=color:#ae81ff>0</span>]) * (pos1[<span style=color:#ae81ff>0</span>] - pos2[<span style=color:#ae81ff>0</span>]) +
</span></span><span style=display:flex><span>    (pos1[<span style=color:#ae81ff>1</span>] - pos2[<span style=color:#ae81ff>1</span>]) * (pos1[<span style=color:#ae81ff>1</span>] - pos2[<span style=color:#ae81ff>1</span>]) +
</span></span><span style=display:flex><span>    (pos1[<span style=color:#ae81ff>2</span>] - pos2[<span style=color:#ae81ff>2</span>]) * (pos1[<span style=color:#ae81ff>2</span>] - pos2[<span style=color:#ae81ff>2</span>]));
</span></span></code></pre></div></div><footer class=post-footer><div class=post-tags><i class="fas fa-tags"></i>
<a href=/tags/DICOM>DICOM</a>
&nbsp;</div><div class=related-posts><h4>Related Posts</h4><i class="fas fa-paperclip"></i>
<a href=/posts/DICOM%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%9B%B8%E5%85%B3Tag%E8%AF%B4%E6%98%8E/>DICOM图像像素相关Tag说明</a><br><i class="fas fa-paperclip"></i>
<a href=/posts/%E4%B8%89%E7%BB%B4%E5%9B%BE%E5%BD%A2%E7%9F%A9%E9%98%B5%E5%8F%98%E6%8D%A2/>三维图形矩阵变换</a><br></div></footer><div class=comments><div class=comments><div class="comments-item comments-valine"><div id=vcomments></div><script src=//code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js></script>
<script src=//unpkg.com/valine/dist/Valine.min.js></script>
<script type=text/javascript>new Valine({el:"#vcomments",highlight:!1,lang:"zh-CN",appId:"X8gbfFnXlzbwF0YQQ91rSogz-gzGzoHsz",appKey:"ljO0GYMaeqs5KWK2vCtk1Ii8",placeholder:"在这里写下你的留言丨支持 Markdown 语法",requiredFields:["nick","mail"],avatar:"mp",visitor:!0,serverURLs:null,recordIP:!0})</script><script>if(window.location.hash)var checkExist=setInterval(function(){$(window.location.hash).length&&($("html, body, article").animate({scrollTop:$(window.location.hash).offset().top-90},1e3),clearInterval(checkExist))},100)</script></div></div></div></article><div class=foot>&copy; 2019 - 2022 &#183;
<a href=/>kira's 博客</a> &#183;
Theme <a href=https://github.com/RainerChiang/simpleness>Simpleness</a> Powered by <a href=https://gohugo.io/>Hugo</a> &#183;
<a href=#><i class="fas fa-chevron-up"></i></a></div></body><script src=/js/lazyload.min.js></script>
<script>var lazyImage=new LazyLoad({container:document.getElementById("article")})</script></html>