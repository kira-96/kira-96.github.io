<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Windows上使用MinGW编译安装EPICS | ✨kiraの博客</title>
<meta name=keywords content="EPICS"><meta name=description content='需要使用的软件

Strawberry Perl for Windows
EPICS Base

编译Base需要有gcc、g++、make、perl这些工具，但其实我们只需要安装Strawberry Perl就可以了，安装完成后就有了MinGW的编译环境，足够编译安装EPICS了。
这里使用MinGW环境编译EPICS，不使用MSVC编译器。
安装 Strawberry Perl
这里选择 Strawberry Perl 5.38.2.1。
直接安装即可，需要注意的是，安装路径不能有空格和中文，最好放在盘符的根目录下。
例：D:\Strawberry
安装完成后检查系统环境变量，查看系统Path环境变量是否有Strawberry Perl的路径。没有则手动添加，以安装在D盘为例。


1
2
3


D:\Strawberry\c\bin
D:\Strawberry\perl\site\bin
D:\Strawberry\perl\bin


其中D:\Strawberry\c\bin就是MinGW环境的路径。
查看Perl版本，检查一下是不是装好了。


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12


> perl -v

This is perl 5, version 38, subversion 2 (v5.38.2) built for MSWin32-x64-multi-thread

Copyright 1987-2023, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using "man perl" or "perldoc perl".  If you have access to the
Internet, point your browser at https://www.perl.org/, the Perl Home Page.


注意：perl 5.32.1.1 之后的版本可能会提示'><meta name=author content><link rel=canonical href=https://kira-96.github.io/notes/windows%E4%B8%8A%E4%BD%BF%E7%94%A8mingw%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85epics/><link crossorigin=anonymous href=/assets/css/stylesheet.dac4af848e4810dd3d01b9ed0579c423cc79a02d0566dcb481e47b0250cd237d.css integrity="sha256-2sSvhI5IEN09AbntBXnEI8x5oC0FZty0geR7AlDNI30=" rel="preload stylesheet" as=style><link rel=icon href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-32x32.png><link rel=apple-touch-icon href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-180x180.png><link rel=mask-icon href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-76x76.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://kira-96.github.io/notes/windows%E4%B8%8A%E4%BD%BF%E7%94%A8mingw%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85epics/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=manifest href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/manifest.json><script src=https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js></script><script type=text/javascript src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><meta property="og:url" content="https://kira-96.github.io/notes/windows%E4%B8%8A%E4%BD%BF%E7%94%A8mingw%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85epics/"><meta property="og:site_name" content="✨kiraの博客"><meta property="og:title" content="Windows上使用MinGW编译安装EPICS"><meta property="og:description" content='需要使用的软件 Strawberry Perl for Windows EPICS Base 编译Base需要有gcc、g++、make、perl这些工具，但其实我们只需要安装Strawberry Perl就可以了，安装完成后就有了MinGW的编译环境，足够编译安装EPICS了。
这里使用MinGW环境编译EPICS，不使用MSVC编译器。
安装 Strawberry Perl 这里选择 Strawberry Perl 5.38.2.1。
直接安装即可，需要注意的是，安装路径不能有空格和中文，最好放在盘符的根目录下。
例：D:\Strawberry
安装完成后检查系统环境变量，查看系统Path环境变量是否有Strawberry Perl的路径。没有则手动添加，以安装在D盘为例。
1 2 3 D:\Strawberry\c\bin D:\Strawberry\perl\site\bin D:\Strawberry\perl\bin 其中D:\Strawberry\c\bin就是MinGW环境的路径。
查看Perl版本，检查一下是不是装好了。
1 2 3 4 5 6 7 8 9 10 11 12 > perl -v This is perl 5, version 38, subversion 2 (v5.38.2) built for MSWin32-x64-multi-thread Copyright 1987-2023, Larry Wall Perl may be copied only under the terms of either the Artistic License or the GNU General Public License, which may be found in the Perl 5 source kit. Complete documentation for Perl, including FAQ lists, should be found on this system using "man perl" or "perldoc perl". If you have access to the Internet, point your browser at https://www.perl.org/, the Perl Home Page. 注意：perl 5.32.1.1 之后的版本可能会提示'><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="notes"><meta property="article:published_time" content="2023-11-29T18:57:02+08:00"><meta property="article:modified_time" content="2024-05-29T14:52:04+08:00"><meta property="article:tag" content="EPICS"><meta name=twitter:card content="summary"><meta name=twitter:title content="Windows上使用MinGW编译安装EPICS"><meta name=twitter:description content='需要使用的软件

Strawberry Perl for Windows
EPICS Base

编译Base需要有gcc、g++、make、perl这些工具，但其实我们只需要安装Strawberry Perl就可以了，安装完成后就有了MinGW的编译环境，足够编译安装EPICS了。
这里使用MinGW环境编译EPICS，不使用MSVC编译器。
安装 Strawberry Perl
这里选择 Strawberry Perl 5.38.2.1。
直接安装即可，需要注意的是，安装路径不能有空格和中文，最好放在盘符的根目录下。
例：D:\Strawberry
安装完成后检查系统环境变量，查看系统Path环境变量是否有Strawberry Perl的路径。没有则手动添加，以安装在D盘为例。


1
2
3


D:\Strawberry\c\bin
D:\Strawberry\perl\site\bin
D:\Strawberry\perl\bin


其中D:\Strawberry\c\bin就是MinGW环境的路径。
查看Perl版本，检查一下是不是装好了。


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12


> perl -v

This is perl 5, version 38, subversion 2 (v5.38.2) built for MSWin32-x64-multi-thread

Copyright 1987-2023, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using "man perl" or "perldoc perl".  If you have access to the
Internet, point your browser at https://www.perl.org/, the Perl Home Page.


注意：perl 5.32.1.1 之后的版本可能会提示'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://kira-96.github.io/notes/"},{"@type":"ListItem","position":2,"name":"Windows上使用MinGW编译安装EPICS","item":"https://kira-96.github.io/notes/windows%E4%B8%8A%E4%BD%BF%E7%94%A8mingw%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85epics/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Windows上使用MinGW编译安装EPICS","name":"Windows上使用MinGW编译安装EPICS","description":"需要使用的软件 Strawberry Perl for Windows EPICS Base 编译Base需要有gcc、g++、make、perl这些工具，但其实我们只需要安装Strawberry Perl就可以了，安装完成后就有了MinGW的编译环境，足够编译安装EPICS了。\n这里使用MinGW环境编译EPICS，不使用MSVC编译器。\n安装 Strawberry Perl 这里选择 Strawberry Perl 5.38.2.1。\n直接安装即可，需要注意的是，安装路径不能有空格和中文，最好放在盘符的根目录下。\n例：D:\\Strawberry\n安装完成后检查系统环境变量，查看系统Path环境变量是否有Strawberry Perl的路径。没有则手动添加，以安装在D盘为例。\n1 2 3 D:\\Strawberry\\c\\bin D:\\Strawberry\\perl\\site\\bin D:\\Strawberry\\perl\\bin 其中D:\\Strawberry\\c\\bin就是MinGW环境的路径。\n查看Perl版本，检查一下是不是装好了。\n1 2 3 4 5 6 7 8 9 10 11 12 \u0026gt; perl -v This is perl 5, version 38, subversion 2 (v5.38.2) built for MSWin32-x64-multi-thread Copyright 1987-2023, Larry Wall Perl may be copied only under the terms of either the Artistic License or the GNU General Public License, which may be found in the Perl 5 source kit. Complete documentation for Perl, including FAQ lists, should be found on this system using \u0026#34;man perl\u0026#34; or \u0026#34;perldoc perl\u0026#34;. If you have access to the Internet, point your browser at https://www.perl.org/, the Perl Home Page. 注意：perl 5.32.1.1 之后的版本可能会提示\n","keywords":["EPICS"],"articleBody":"需要使用的软件 Strawberry Perl for Windows EPICS Base 编译Base需要有gcc、g++、make、perl这些工具，但其实我们只需要安装Strawberry Perl就可以了，安装完成后就有了MinGW的编译环境，足够编译安装EPICS了。\n这里使用MinGW环境编译EPICS，不使用MSVC编译器。\n安装 Strawberry Perl 这里选择 Strawberry Perl 5.38.2.1。\n直接安装即可，需要注意的是，安装路径不能有空格和中文，最好放在盘符的根目录下。\n例：D:\\Strawberry\n安装完成后检查系统环境变量，查看系统Path环境变量是否有Strawberry Perl的路径。没有则手动添加，以安装在D盘为例。\n1 2 3 D:\\Strawberry\\c\\bin D:\\Strawberry\\perl\\site\\bin D:\\Strawberry\\perl\\bin 其中D:\\Strawberry\\c\\bin就是MinGW环境的路径。\n查看Perl版本，检查一下是不是装好了。\n1 2 3 4 5 6 7 8 9 10 11 12 \u003e perl -v This is perl 5, version 38, subversion 2 (v5.38.2) built for MSWin32-x64-multi-thread Copyright 1987-2023, Larry Wall Perl may be copied only under the terms of either the Artistic License or the GNU General Public License, which may be found in the Perl 5 source kit. Complete documentation for Perl, including FAQ lists, should be found on this system using \"man perl\" or \"perldoc perl\". If you have access to the Internet, point your browser at https://www.perl.org/, the Perl Home Page. 注意：perl 5.32.1.1 之后的版本可能会提示\nLocale ‘Chinese (Simplified)_China.936’ is unsupported, and may crash the interpreter.\n需要设置环境变量LC_ALL=C。\n编译安装EPICS Base 修改base源码目录下的startup/windows.bat文件。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 rem The location of Strawberry Perl (pathname). If empty, Strawberry Perl rem is assumed to already be in PATH and will not be added. If nonempty, rem Strawberry Perl will be added to PATH. rem 设置Strawberry Perl安装路径 set _strawberry_perl_home=D:\\Strawberry rem The EPICS host architecture specification for EPICS_HOST_ARCH rem (-[-] as defined in configure/CONFIG_SITE). rem 设置编译主机架构，这里使用mingw set _epics_host_arch=windows-x64-mingw rem The install location of EPICS Base (pathname). If nonempty and rem _auto_path_append is yes, it will be used to add the host architecture rem bin directory to PATH. set _epics_base=C:\\EPICS\\base-7.0.8 rem Set the environment for Microsoft Visual Studio rem 使用 rem 注释掉下面一行 rem call \"%_visual_studio_home%\\VC\\Auxiliary\\Build\\vcvarsall.bat\" x64 注意，编译需要使用命令行工具cmd，不能用powershell。\n注意，这里使用的是 perl 自带的编译工具，如果要使用其他版本的MinGW，则需要自行配置环境变量。\n比如这里使用 MinGW 12.2.0，则需要设置环境变量。\n1 set Path=C:\\WINDOWS;C:\\WINDOWS\\System32;C:\\WINDOWS\\System32\\Wbem;D:\\Strawberry\\perl\\bin;D:\\Tools\\mingw1220_64\\bin;D:\\Tools\\mingw1220_64\\libexec\\gcc\\x86_64-w64-mingw32\\12.2.0 1 2 3 4 5 6 7 cd base-7.0.8 .\\startup\\windows.bat # 根据使用的编译工具执行命令 # perl 环境的make命名为gmake gmake -j16 # mingw32-make -j16 等待编译完成。\n编译完成后的工具在bin\\windows-x64-mingw目录下。\n测试使用：\n1 2 3 cd bin\\windows-x64-mingw softIoc.exe epics\u003e ","wordCount":"304","inLanguage":"zh","datePublished":"2023-11-29T18:57:02+08:00","dateModified":"2024-05-29T14:52:04+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://kira-96.github.io/notes/windows%E4%B8%8A%E4%BD%BF%E7%94%A8mingw%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85epics/"},"publisher":{"@type":"Organization","name":"✨kiraの博客","logo":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kira-96.github.io/ accesskey=h title="✨kiraの博客 (Alt + H)">✨kiraの博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kira-96.github.io/ title=🏠主页><span>🏠主页</span></a></li><li><a href=https://kira-96.github.io/notes/ title=📓笔记><span>📓笔记</span></a></li><li><a href=https://kira-96.github.io/search/ title=🔍️搜索><span>🔍️搜索</span></a></li><li><a href=https://kira-96.github.io/archives/ title=🗃️存档><span>🗃️存档</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kira-96.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://kira-96.github.io/notes/>Notes</a></div><h1 class="post-title entry-hint-parent">Windows上使用MinGW编译安装EPICS
<span class=entry-hint title=Draft><svg height="35" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h1><div class=post-meta><span title='2023-11-29 18:57:02 +0800 +0800'>十一月 29, 2023</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;304 字&nbsp;|&nbsp;<a href=https://github.com/kira-96/kira-96.github.io/tree/main/content/posts/ rel="noopener noreferrer" target=_blank>✏️编辑</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e9%9c%80%e8%a6%81%e4%bd%bf%e7%94%a8%e7%9a%84%e8%bd%af%e4%bb%b6 aria-label=需要使用的软件>需要使用的软件</a></li><li><a href=#%e5%ae%89%e8%a3%85-strawberry-perl aria-label="安装 Strawberry Perl">安装 Strawberry Perl</a></li><li><a href=#%e7%bc%96%e8%af%91%e5%ae%89%e8%a3%85epics-base aria-label="编译安装EPICS Base">编译安装EPICS Base</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=需要使用的软件>需要使用的软件<a hidden class=anchor aria-hidden=true href=#需要使用的软件>#</a></h2><ul><li><a href=https://strawberryperl.com/>Strawberry Perl for Windows</a></li><li><a href=https://epics.anl.gov/base/index.php>EPICS Base</a></li></ul><p>编译Base需要有gcc、g++、make、perl这些工具，但其实我们只需要安装<code>Strawberry Perl</code>就可以了，安装完成后就有了<code>MinGW</code>的编译环境，足够编译安装EPICS了。</p><p>这里使用MinGW环境编译EPICS，不使用MSVC编译器。</p><h2 id=安装-strawberry-perl>安装 Strawberry Perl<a hidden class=anchor aria-hidden=true href=#安装-strawberry-perl>#</a></h2><p>这里选择 <a href=https://strawberryperl.com/release-notes/5.38.2.1-64bit.html>Strawberry Perl 5.38.2.1</a>。</p><p>直接安装即可，需要注意的是，安装路径不能有空格和中文，最好放在盘符的根目录下。<br>例：<code>D:\Strawberry</code></p><p>安装完成后检查<strong>系统环境变量</strong>，查看系统<code>Path</code>环境变量是否有<code>Strawberry Perl</code>的路径。没有则手动添加，以安装在D盘为例。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>D:<span class=se>\S</span>trawberry<span class=se>\c\b</span>in
</span></span><span class=line><span class=cl>D:<span class=se>\S</span>trawberry<span class=se>\p</span>erl<span class=se>\s</span>ite<span class=se>\b</span>in
</span></span><span class=line><span class=cl>D:<span class=se>\S</span>trawberry<span class=se>\p</span>erl<span class=se>\b</span>in
</span></span></code></pre></td></tr></table></div></div><p>其中<code>D:\Strawberry\c\bin</code>就是MinGW环境的路径。</p><p>查看<code>Perl</code>版本，检查一下是不是装好了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>&gt; perl -v
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>This is perl 5, version 38, subversion <span class=m>2</span> <span class=o>(</span>v5.38.2<span class=o>)</span> built <span class=k>for</span> MSWin32-x64-multi-thread
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Copyright 1987-2023, Larry Wall
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Perl may be copied only under the terms of either the Artistic License or the
</span></span><span class=line><span class=cl>GNU General Public License, which may be found in the Perl <span class=m>5</span> <span class=nb>source</span> kit.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Complete documentation <span class=k>for</span> Perl, including FAQ lists, should be found on
</span></span><span class=line><span class=cl>this system using <span class=s2>&#34;man perl&#34;</span> or <span class=s2>&#34;perldoc perl&#34;</span>.  If you have access to the
</span></span><span class=line><span class=cl>Internet, point your browser at https://www.perl.org/, the Perl Home Page.
</span></span></code></pre></td></tr></table></div></div><p>注意：perl 5.32.1.1 之后的版本可能会提示</p><p><em>Locale &lsquo;Chinese (Simplified)_China.936&rsquo; is unsupported, and may crash the interpreter.</em></p><p>需要设置环境变量<code>LC_ALL=C</code>。</p><h2 id=编译安装epics-base>编译安装EPICS Base<a hidden class=anchor aria-hidden=true href=#编译安装epics-base>#</a></h2><p>修改base源码目录下的<code>startup/windows.bat</code>文件。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=cl><span class=c1>rem The location of Strawberry Perl (pathname).  If empty, Strawberry Perl</span>
</span></span><span class=line><span class=cl><span class=c1>rem is assumed to already be in PATH and will not be added.  If nonempty,</span>
</span></span><span class=line><span class=cl><span class=c1>rem Strawberry Perl will be added to PATH.</span>
</span></span><span class=line><span class=cl><span class=c1>rem 设置Strawberry Perl安装路径</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>_strawberry_perl_home</span><span class=p>=</span>D:\Strawberry
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>rem The EPICS host architecture specification for EPICS_HOST_ARCH</span>
</span></span><span class=line><span class=cl><span class=c1>rem (&lt;os&gt;-&lt;arch&gt;[-&lt;toolset&gt;] as defined in configure/CONFIG_SITE).</span>
</span></span><span class=line><span class=cl><span class=c1>rem 设置编译主机架构，这里使用mingw</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>_epics_host_arch</span><span class=p>=</span>windows-x64-mingw
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>rem The install location of EPICS Base (pathname).  If nonempty and</span>
</span></span><span class=line><span class=cl><span class=c1>rem _auto_path_append is yes, it will be used to add the host architecture</span>
</span></span><span class=line><span class=cl><span class=c1>rem bin directory to PATH.</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>_epics_base</span><span class=p>=</span>C:\EPICS\base-7.0.8
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>rem Set the environment for Microsoft Visual Studio</span>
</span></span><span class=line><span class=cl><span class=c1>rem 使用 rem 注释掉下面一行</span>
</span></span><span class=line><span class=cl><span class=c1>rem call &#34;%_visual_studio_home%\VC\Auxiliary\Build\vcvarsall.bat&#34; x64</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>注意，编译需要使用命令行工具<code>cmd</code>，不能用<code>powershell</code>。</strong></p><p><strong>注意，这里使用的是 perl 自带的编译工具，如果要使用其他版本的MinGW，则需要自行配置环境变量。</strong></p><p>比如这里使用 MinGW 12.2.0，则需要设置环境变量。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=cl><span class=k>set</span> <span class=nv>Path</span><span class=p>=</span>C:\WINDOWS;C:\WINDOWS\System32;C:\WINDOWS\System32\Wbem;D:\Strawberry\perl\bin;D:\Tools\mingw1220_64\bin;D:\Tools\mingw1220_64\libexec\gcc\x86_64-w64-mingw32\12.2.0
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=cl><span class=k>cd</span> base-7.0.8
</span></span><span class=line><span class=cl>.\startup\windows.bat
</span></span><span class=line><span class=cl># 根据使用的编译工具执行命令
</span></span><span class=line><span class=cl># perl 环境的make命名为gmake
</span></span><span class=line><span class=cl>gmake -j16
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># mingw32-make -j16
</span></span></code></pre></td></tr></table></div></div><p>等待编译完成。<br>编译完成后的工具在<code>bin\windows-x64-mingw</code>目录下。</p><p>测试使用：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=cl><span class=k>cd</span> bin\windows-x64-mingw
</span></span><span class=line><span class=cl>softIoc.exe
</span></span><span class=line><span class=cl>epics&gt;
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://kira-96.github.io/tags/epics/>EPICS</a></li></ul></footer><script src=https://utteranc.es/client.js repo=kira-96/kira-96.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>Copyright © 2019-2025 <a href=/>kira&rsquo;s blog</a> ·</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>