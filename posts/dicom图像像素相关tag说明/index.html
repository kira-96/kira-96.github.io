<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>DICOMå›¾åƒåƒç´ ç›¸å…³Tagè¯´æ˜ | âœ¨kiraã®åšå®¢</title><meta name=keywords content="DICOM"><meta name=description content="DICOMå›¾åƒç›¸å…³"><meta name=author content><link rel=canonical href=https://kira-96.github.io/posts/dicom%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%9B%B8%E5%85%B3tag%E8%AF%B4%E6%98%8E/><link crossorigin=anonymous href=/assets/css/stylesheet.7802032d20fa3b31547dfa2bc6209ee4715c482ccabd67740b739d16366107d4.css integrity="sha256-eAIDLSD6OzFUfforxiCe5HFcSCzKvWd0C3OdFjZhB9Q=" rel="preload stylesheet" as=style><link rel=icon href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-32x32.png><link rel=apple-touch-icon href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-180x180.png><link rel=mask-icon href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-76x76.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://kira-96.github.io/posts/dicom%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%9B%B8%E5%85%B3tag%E8%AF%B4%E6%98%8E/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=manifest href=https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/manifest.json><link rel=stylesheet href=https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css><script src=https://fastly.jsdelivr.net/npm/live2d-widgets@0/autoload.js></script><script type=text/javascript src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><meta property="og:url" content="https://kira-96.github.io/posts/dicom%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%9B%B8%E5%85%B3tag%E8%AF%B4%E6%98%8E/"><meta property="og:site_name" content="âœ¨kiraã®åšå®¢"><meta property="og:title" content="DICOMå›¾åƒåƒç´ ç›¸å…³Tagè¯´æ˜"><meta property="og:description" content="DICOMå›¾åƒç›¸å…³"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-15T10:30:00+08:00"><meta property="article:modified_time" content="2021-05-20T09:25:12+08:00"><meta property="article:tag" content="DICOM"><meta property="article:tag" content="å›¾åƒ"><meta name=twitter:card content="summary"><meta name=twitter:title content="DICOMå›¾åƒåƒç´ ç›¸å…³Tagè¯´æ˜"><meta name=twitter:description content="DICOMå›¾åƒç›¸å…³"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://kira-96.github.io/posts/"},{"@type":"ListItem","position":2,"name":"DICOMå›¾åƒåƒç´ ç›¸å…³Tagè¯´æ˜","item":"https://kira-96.github.io/posts/dicom%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%9B%B8%E5%85%B3tag%E8%AF%B4%E6%98%8E/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"DICOMå›¾åƒåƒç´ ç›¸å…³Tagè¯´æ˜","name":"DICOMå›¾åƒåƒç´ ç›¸å…³Tagè¯´æ˜","description":"DICOMå›¾åƒç›¸å…³","keywords":["DICOM"],"articleBody":"å¸¸ç”¨å›¾åƒåƒç´ ç›¸å…³çš„ä¸€äº›Tag Tag VR Keyword (0028,0002) US Samples Per Pixel (0028,0004) CS Photometric Interpretation (0028,0006) US Planar Configuration (0028,0010) US Rows (0028,0011) US Columns (0028,0100) US Bits Allocated (0028,0101) US Bits Stored (0028,0102) US High Bit (0028,0103) US Pixel Representation (7FE0,0010) OB/OW Pixel Data ç›¸å…³Tagè¯´æ˜ Sample Per Pixel Samples per Pixel (0028,0002) is the number of separate planes in this image. One and three image planes are defined. Other numbers of image planes are allowed, but their meaning is not defined by this Standard.\nFor monochrome (gray scale) and palette color images, the number of planes is 1. For RGB and other three vector color models, the value of this Attribute is 3.\nSamples Per Pixel æŒ‡æ­¤å›¾åƒä¸­å¹³é¢çš„ä¸ªæ•°ã€‚å¯¹äºç°åº¦å›¾åƒï¼Œå®ƒçš„å€¼ä¸º1ï¼Œå¯¹äºRGBç­‰å½©è‰²å›¾åƒï¼Œå®ƒçš„å€¼ä¸º3ã€‚ å¬èµ·æ¥å¯èƒ½æ¯”è¾ƒæ‹—å£ï¼Œç®€å•è§£é‡Šä¸€ä¸‹ï¼Œå¯¹äºç°åº¦çš„å›¾åƒï¼Œå®ƒåªæœ‰ä¸€ä¸ªç°åº¦å€¼ï¼Œæ‰€ä»¥æ˜¯1ï¼Œè€Œå½©è‰²çš„å›¾åƒé€šå¸¸æ˜¯ç”±RGBä¸‰ä¸ªé€šé“æ··åˆè€Œæˆï¼Œå®ƒçš„å€¼ä¸º3ã€‚\nPhotometric Interpretation æŒ‡å®šè§£æå›¾åƒåƒç´ çš„æ ¼å¼ã€‚ä¸ªäººæ¯”è¾ƒä¹ æƒ¯å«å®ƒå›¾åƒç±»å‹ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªtagåˆ¤æ–­å›¾åƒæ˜¯ç°åº¦è¿˜æ˜¯å½©è‰²å›¾åƒã€‚\nMONOCHROME1\nç°åº¦å›¾ï¼Œæœ€å°å€¼æ˜¾ç¤ºä¸ºç™½è‰²ï¼Œåƒç´ å€¼è¶Šå¤§å°±è¶Šé»‘ã€‚\nMONOCHROME2\nç°åº¦å›¾ï¼Œæœ€å°å€¼æ˜¾ç¤ºä¸ºé»‘è‰²ï¼Œåƒç´ å€¼è¶Šå¤§å°±è¶Šäº®ã€‚è¿™åº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„æ ¼å¼äº†ã€‚\nPALETTE COLOR\nè‡ªå¸¦è°ƒè‰²æ¿çš„å›¾åƒï¼Œæ˜¾ç¤ºå‡ºæ¥æ˜¯å½©è‰²çš„ï¼Œæ‰€ä»¥å±äºå½©å›¾ã€‚å½“ä½¿ç”¨å®ƒæ—¶ï¼ŒSamples Per Pixelçš„å€¼å¿…é¡»ä¸º1ã€‚å¹¶ä¸”å¿…é¡»è¦æœ‰RGBä¸‰ç§é¢œè‰²çš„è°ƒè‰²æ¿æŸ¥æ‰¾è¡¨ï¼Œå®ƒçš„åƒç´ å€¼(Pixel Data)ç”¨äºæŸ¥æ‰¾è¡¨ã€‚\nThe pixel value is used as an index into each of the Red, Blue, and Green Palette Color Lookup Tables (0028,1101-1103\u00261201-1203).\nRGB\nå½©è‰²å›¾åƒï¼Œæ¯ä¸ªåƒç´ ç”±RGBä¸‰ç§é¢œè‰²ç»„æˆï¼ŒSamples Per Pixelå€¼å¿…é¡»ä¸º3ã€‚\nYBR_FULL\né€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œæ¯ä¸ªåƒç´ ç”±ä¸€ä¸ªäº®åº¦Y(luminance)å’Œä¸¤ä¸ªè‰²åº¦Cb(è“è‰²)ã€Cr(çº¢è‰²)ç»„æˆã€‚Samples Per Pixelå€¼ä¸º3ã€‚ $$Y=+0.2990R+0.5870G+0.1140B$$ $$Cb=-0.1687R-0.3313G+0.5000B+128$$ $$Cr=+0.5000R-0.4187G-0.0813B+128$$\nYBR_FULL_422\nç±»ä¼¼äºYBR_FULLï¼Œé€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æœ‰å¯¹åº”çš„äº®åº¦Y(luminance)ï¼Œæ¯ä¸¤ä¸ªåƒç´ ç‚¹é‡‡é›†ä¸€æ¬¡è‰²åº¦ä¿¡å·ï¼Œç¼ºå°‘çš„è‰²åº¦ä¿¡æ¯é€šè¿‡å†…æ’è¡¥ç‚¹çš„æ–¹å¼è¿ç®—å¾—åˆ°ã€‚ Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ï¼ŒPlanar Configurationçš„å€¼å¿…é¡»æ˜¯0ï¼Œåƒç´ å­˜å‚¨çš„æ ¼å¼ä¸ºï¼šY, Y, Cb, Cr, ...\nYBR_PARTIAL_422(Retired)\nç±»ä¼¼äºYBR_FULL_422ï¼Œé€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œä¸è¿‡äº®åº¦å’Œè‰²åº¦çš„è®¡ç®—æ–¹å¼å’ŒYBR_FULLçš„è®¡ç®—æ–¹å¼ä¸åŒã€‚ $$Y=+0.2568R+0.5041G+0.0979B+16$$ $$Cb=-0.1482R-0.2910G+0.4392B+128$$ $$Cr=+0.4392R-0.3678G-0.0714B+128$$\nYBR_PARTIAL_420\nç±»ä¼¼äºYBR_PARTIAL_422ï¼Œé€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œä¸åŒçš„æ˜¯ï¼Œç”¨4:2:2çš„é‡‡æ ·æ–¹å¼æ—¶ï¼Œè¡Œæ–¹å‘çš„è‰²åº¦ä¿¡æ¯ä¼šè¢«ä¸¢æ‰ä¸€åŠï¼Œè€Œ4:2:0çš„é‡‡æ ·æ–¹å¼ï¼Œä¸ä»…ä¼šæŠŠè¡Œæ–¹å‘çš„è‰²åº¦ä¿¡æ¯ä¸¢æ‰ä¸€åŠï¼Œåˆ—æ–¹å‘çš„è‰²åº¦ä¿¡æ¯ä¹Ÿä¼šè¢«ä¸¢æ‰ä¸€åŠã€‚è‰²åº¦çš„é‡‡æ ·ï¼ˆCb,Crï¼‰åªæœ‰äº®åº¦Y(luminance)çš„ 1/4ã€‚ Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ï¼ŒPlanar Configurationçš„å€¼å¿…é¡»æ˜¯0ã€‚\nYBR_ICT\nIrreversible Color Transformation.(ä¸å¯é€†é¢œè‰²å˜æ¢)\nYCbCrçš„è®¡ç®—æ–¹å¼å’ŒYBR_FULLä¸€æ ·ã€‚Yä¸º0æ—¶è¡¨ç¤ºé»‘è‰²ï¼ŒCbï¼ŒCréƒ½ä¸º0æ—¶è¡¨ç¤ºæ²¡æœ‰é¢œè‰²ã€‚ JPEG 2000æœ‰æŸå‹ç¼©çš„å½©è‰²å›¾åƒã€‚Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ï¼ŒPlanar Configurationçš„å€¼å¿…é¡»æ˜¯0ã€‚\nYBR_RCT\nReversible Color Transformation.(å¯é€†é¢œè‰²å˜æ¢)\nJPEG 2000æ— æŸå‹ç¼©çš„å½©è‰²å›¾åƒã€‚Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ã€‚ ä»RGBè½¬æ¢åˆ°YBR_RCT $$Y=floor(\\frac{R+2G+B}{4})$$ $$Cb=B-G$$ $$Cr=R-G$$ ä»YBR_RCTè½¬æ¢åˆ°RGB $$R=Cr+G$$ $$G=Y-floor(\\frac{Cb+Cr}{4})$$ $$B=Cb+G$$\nä¸å†ä½¿ç”¨çš„æ ¼å¼\nHSVã€ARGBã€CMYK\nPlanar Configuration æŒ‡å®šé¢œè‰²æ˜¯æŒ‰ç…§åƒç´ æ¥æ’åˆ—çš„æˆ–æ˜¯æŒ‰å¹³é¢ï¼ˆplaneï¼‰æ¥æ’åˆ—çš„ã€‚å½“Samples Per Pixelå¤§äº1æ—¶åº”è®¾å®šæ­¤å€¼ã€‚ å½“å€¼ä¸º0æ—¶è¡¨ç¤ºé¢œè‰²æŒ‰åƒç´ æ’åˆ—ã€‚å¯¹äºRGBå›¾åƒï¼Œåƒç´ çš„æ ¼å¼ä¸ºï¼šR1,G1,B1,R2,G2,B2,... å½“å€¼ä¸º1æ—¶è¡¨ç¤ºé¢œè‰²æŒ‰å¹³é¢æ’åˆ—ã€‚å¯¹äºRGBå›¾åƒï¼Œåƒç´ çš„æ ¼å¼ä¸ºï¼šR1,R2,R3,...Rn,G1,G2,G3,...Gn,B1,B2,B3,...Bn\nRows å›¾åƒçš„è¡Œæ•°é‡ï¼Œå³å›¾åƒçš„é«˜(Height)ã€‚\nColumns å›¾åƒçš„åˆ—æ•°é‡ï¼Œå³å›¾åƒçš„å®½(Width)ã€‚\nBits Allocated, Bits Stored, High Bit, Pixel Representation Bits AllocatedæŒ‡å®šæ¯ä¸ªåƒç´ åˆ†é…å¤šå°‘ä½(bit)ã€‚å€¼åº”å½“ä¸º1æˆ–è€…8çš„å€æ•°ã€‚è€Œå¯¹äºå›¾åƒåƒç´ ï¼ŒBits Allocatedçš„å€¼é€šå¸¸ä¸º8æˆ–è€…16ï¼Œå®é™…ä¸Šå¯ä»¥ç†è§£ä¸ºæ¯ä¸ªåƒç´ åˆ†é…å¤šå°‘å­—èŠ‚ï¼Œå› ä¸ºæ˜¯8çš„å€æ•°ã€‚\nBits StoredæŒ‡å®šå­˜å‚¨æ¯ä¸ªåƒç´ å ç”¨äº†å¤šå°‘ä½(bit)ï¼Œå€¼ä¸èƒ½å¤§äºBits Allocatedã€‚\nHigh Bitåˆ™æŒ‡å®šäº†åƒç´ çš„æœ€é«˜ä½ï¼Œé€šå¸¸åº”è¯¥æ˜¯Bits Stored - 1ã€‚\nPixel RepresentationæŒ‡å®šäº†åƒç´ æ•°æ®çš„ç±»å‹ã€‚å€¼åªèƒ½ä¸º0æˆ–è€…1ï¼Œå¯¹äºå½©è‰²å›¾åƒï¼Œå€¼åªèƒ½ä¸º0ã€‚ å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºåƒç´ ä¸ºæ— ç¬¦å·æ•´å‹ï¼ˆunsigned integerï¼‰ã€‚ å€¼ä¸º1æ—¶ï¼Œè¡¨ç¤ºåƒç´ ä¸º2çš„è¡¥ç ï¼Œå…¶å®å°±æ˜¯æœ‰ç¬¦å·æ•´å‹ï¼Œå³å…è®¸å­˜åœ¨è´Ÿæ•°ã€‚ è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œå¦‚æœä¸èƒ½æ­£ç¡®å¤„ç†è´Ÿæ•°ï¼Œå…¨éƒ¨æŒ‰ç…§æ— ç¬¦å·æ•´å‹æ¥è®¡ç®—çš„è¯ï¼Œå°±ä¼šé‡åˆ°ç¬¦å·ä½çš„é—®é¢˜ï¼Œå³ä¸€ä¸ªè´Ÿæ•°ä¼šå˜æˆä¸€ä¸ªå¾ˆå¤§çš„æ­£æ•°ï¼Œå›¾åƒä¸ŠåŸæœ¬æ˜¯é»‘è‰²çš„åŒºåŸŸä¼šå˜å¾—å¾ˆäº®ã€‚\nPixel Data å›¾åƒåƒç´ ã€‚ä¸€å †äºŒè¿›åˆ¶æ•°å­—ï¼Œé€šå¸¸ä¼šå­˜æ”¾åœ¨Dicomæ–‡ä»¶æœ€åçš„ä½ç½®ã€‚\næœ€å å…¶å®ï¼Œåœ¨å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œä¸€äº›ä¸œè¥¿æˆ‘éƒ½è¿˜æ˜¯ä¸€çŸ¥åŠè§£çš„ï¼Œåœ¨å†™çš„è¿‡ç¨‹ä¸­æˆ‘ä¹Ÿæ˜¯ä¸æ–­çš„åœ¨æŸ¥é˜…èµ„æ–™å’Œæºç ã€‚å…¶ä¸­ä¸€äº›ä¸œè¥¿éš¾å…ä¼šæºæ‚äº†è‡ªå·±çš„ç†è§£ï¼Œå¦‚æœæœ‰é”™è¯¯çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ã€‚\nå‚è€ƒ\nDICOM Standard Browser é¢œè‰²ç©ºé—´ ","wordCount":"1948","inLanguage":"zh","datePublished":"2020-06-15T10:30:00+08:00","dateModified":"2021-05-20T09:25:12+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://kira-96.github.io/posts/dicom%E5%9B%BE%E5%83%8F%E5%83%8F%E7%B4%A0%E7%9B%B8%E5%85%B3tag%E8%AF%B4%E6%98%8E/"},"publisher":{"@type":"Organization","name":"âœ¨kiraã®åšå®¢","logo":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kira-96.github.io/ accesskey=h title="âœ¨kiraã®åšå®¢ (Alt + H)">âœ¨kiraã®åšå®¢</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kira-96.github.io/ title=ğŸ ä¸»é¡µ><span>ğŸ ä¸»é¡µ</span></a></li><li><a href=https://kira-96.github.io/notes/ title=ğŸ““ç¬”è®°><span>ğŸ““ç¬”è®°</span></a></li><li><a href=https://kira-96.github.io/search/ title=ğŸ”ï¸æœç´¢><span>ğŸ”ï¸æœç´¢</span></a></li><li><a href=https://kira-96.github.io/archives/ title=ğŸ—ƒï¸å­˜æ¡£><span>ğŸ—ƒï¸å­˜æ¡£</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kira-96.github.io/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://kira-96.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">DICOMå›¾åƒåƒç´ ç›¸å…³Tagè¯´æ˜</h1><div class=post-description>DICOMå›¾åƒç›¸å…³</div><div class=post-meta><span title='2020-06-15 10:30:00 +0800 +0800'>å…­æœˆ 15, 2020</span>&nbsp;Â·&nbsp;4 åˆ†é’Ÿ&nbsp;Â·&nbsp;1948 å­—&nbsp;|&nbsp;<a href=https://github.com/kira-96/kira-96.github.io/tree/main/content/posts/ rel="noopener noreferrer edit" target=_blank>âœï¸ç¼–è¾‘</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e5%b8%b8%e7%94%a8%e5%9b%be%e5%83%8f%e5%83%8f%e7%b4%a0%e7%9b%b8%e5%85%b3%e7%9a%84%e4%b8%80%e4%ba%9btag aria-label=å¸¸ç”¨å›¾åƒåƒç´ ç›¸å…³çš„ä¸€äº›Tag>å¸¸ç”¨å›¾åƒåƒç´ ç›¸å…³çš„ä¸€äº›Tag</a></li><li><a href=#%e7%9b%b8%e5%85%b3tag%e8%af%b4%e6%98%8e aria-label=ç›¸å…³Tagè¯´æ˜>ç›¸å…³Tagè¯´æ˜</a><ul><li><a href=#sample-per-pixel aria-label="Sample Per Pixel">Sample Per Pixel</a></li><li><a href=#photometric-interpretation aria-label="Photometric Interpretation">Photometric Interpretation</a></li><li><a href=#planar-configuration aria-label="Planar Configuration">Planar Configuration</a></li><li><a href=#rows aria-label=Rows>Rows</a></li><li><a href=#columns aria-label=Columns>Columns</a></li><li><a href=#bits-allocated-bits-stored-high-bit-pixel-representation aria-label="Bits Allocated, Bits Stored, High Bit, Pixel Representation">Bits Allocated, Bits Stored, High Bit, Pixel Representation</a></li><li><a href=#pixel-data aria-label="Pixel Data">Pixel Data</a></li></ul></li><li><a href=#%e6%9c%80%e5%90%8e aria-label=æœ€å>æœ€å</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=å¸¸ç”¨å›¾åƒåƒç´ ç›¸å…³çš„ä¸€äº›tag>å¸¸ç”¨å›¾åƒåƒç´ ç›¸å…³çš„ä¸€äº›Tag<a hidden class=anchor aria-hidden=true href=#å¸¸ç”¨å›¾åƒåƒç´ ç›¸å…³çš„ä¸€äº›tag>#</a></h2><table><thead><tr><th style=text-align:center>Tag</th><th style=text-align:center>VR</th><th style=text-align:center>Keyword</th></tr></thead><tbody><tr><td style=text-align:center>(0028,0002)</td><td style=text-align:center>US</td><td style=text-align:center>Samples Per Pixel</td></tr><tr><td style=text-align:center>(0028,0004)</td><td style=text-align:center>CS</td><td style=text-align:center>Photometric Interpretation</td></tr><tr><td style=text-align:center>(0028,0006)</td><td style=text-align:center>US</td><td style=text-align:center>Planar Configuration</td></tr><tr><td style=text-align:center>(0028,0010)</td><td style=text-align:center>US</td><td style=text-align:center>Rows</td></tr><tr><td style=text-align:center>(0028,0011)</td><td style=text-align:center>US</td><td style=text-align:center>Columns</td></tr><tr><td style=text-align:center>(0028,0100)</td><td style=text-align:center>US</td><td style=text-align:center>Bits Allocated</td></tr><tr><td style=text-align:center>(0028,0101)</td><td style=text-align:center>US</td><td style=text-align:center>Bits Stored</td></tr><tr><td style=text-align:center>(0028,0102)</td><td style=text-align:center>US</td><td style=text-align:center>High Bit</td></tr><tr><td style=text-align:center>(0028,0103)</td><td style=text-align:center>US</td><td style=text-align:center>Pixel Representation</td></tr><tr><td style=text-align:center>(7FE0,0010)</td><td style=text-align:center>OB/OW</td><td style=text-align:center>Pixel Data</td></tr></tbody></table><h2 id=ç›¸å…³tagè¯´æ˜>ç›¸å…³Tagè¯´æ˜<a hidden class=anchor aria-hidden=true href=#ç›¸å…³tagè¯´æ˜>#</a></h2><h3 id=sample-per-pixel>Sample Per Pixel<a hidden class=anchor aria-hidden=true href=#sample-per-pixel>#</a></h3><blockquote><p>Samples per Pixel (0028,0002) is the number of separate planes in this image. One and three image planes are defined. Other numbers of image planes are allowed, but their meaning is not defined by this Standard.</p></blockquote><blockquote><p>For monochrome (gray scale) and palette color images, the number of planes is 1.
For RGB and other three vector color models, the value of this Attribute is 3.</p></blockquote><p>Samples Per Pixel æŒ‡æ­¤å›¾åƒä¸­å¹³é¢çš„ä¸ªæ•°ã€‚å¯¹äºç°åº¦å›¾åƒï¼Œå®ƒçš„å€¼ä¸º<strong>1</strong>ï¼Œå¯¹äºRGBç­‰å½©è‰²å›¾åƒï¼Œå®ƒçš„å€¼ä¸º<strong>3</strong>ã€‚
å¬èµ·æ¥å¯èƒ½æ¯”è¾ƒæ‹—å£ï¼Œç®€å•è§£é‡Šä¸€ä¸‹ï¼Œå¯¹äºç°åº¦çš„å›¾åƒï¼Œå®ƒåªæœ‰ä¸€ä¸ªç°åº¦å€¼ï¼Œæ‰€ä»¥æ˜¯1ï¼Œè€Œå½©è‰²çš„å›¾åƒé€šå¸¸æ˜¯ç”±RGBä¸‰ä¸ªé€šé“æ··åˆè€Œæˆï¼Œå®ƒçš„å€¼ä¸º3ã€‚</p><h3 id=photometric-interpretation>Photometric Interpretation<a hidden class=anchor aria-hidden=true href=#photometric-interpretation>#</a></h3><p>æŒ‡å®šè§£æå›¾åƒåƒç´ çš„æ ¼å¼ã€‚ä¸ªäººæ¯”è¾ƒä¹ æƒ¯å«å®ƒå›¾åƒç±»å‹ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªtagåˆ¤æ–­å›¾åƒæ˜¯ç°åº¦è¿˜æ˜¯å½©è‰²å›¾åƒã€‚</p><ul><li><p>MONOCHROME1</p><p>ç°åº¦å›¾ï¼Œæœ€å°å€¼æ˜¾ç¤ºä¸ºç™½è‰²ï¼Œåƒç´ å€¼è¶Šå¤§å°±è¶Šé»‘ã€‚</p></li><li><p>MONOCHROME2</p><p>ç°åº¦å›¾ï¼Œæœ€å°å€¼æ˜¾ç¤ºä¸ºé»‘è‰²ï¼Œåƒç´ å€¼è¶Šå¤§å°±è¶Šäº®ã€‚è¿™åº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„æ ¼å¼äº†ã€‚</p></li><li><p>PALETTE COLOR</p><p>è‡ªå¸¦è°ƒè‰²æ¿çš„å›¾åƒï¼Œæ˜¾ç¤ºå‡ºæ¥æ˜¯å½©è‰²çš„ï¼Œæ‰€ä»¥å±äºå½©å›¾ã€‚å½“ä½¿ç”¨å®ƒæ—¶ï¼ŒSamples Per Pixelçš„å€¼å¿…é¡»ä¸º<strong>1</strong>ã€‚å¹¶ä¸”å¿…é¡»è¦æœ‰RGBä¸‰ç§é¢œè‰²çš„è°ƒè‰²æ¿æŸ¥æ‰¾è¡¨ï¼Œå®ƒçš„åƒç´ å€¼(Pixel Data)ç”¨äºæŸ¥æ‰¾è¡¨ã€‚</p><blockquote><p>The pixel value is used as an index into each of the Red, Blue, and Green Palette Color Lookup Tables (0028,1101-1103&amp;1201-1203).</p></blockquote></li><li><p>RGB</p><p>å½©è‰²å›¾åƒï¼Œæ¯ä¸ªåƒç´ ç”±RGBä¸‰ç§é¢œè‰²ç»„æˆï¼ŒSamples Per Pixelå€¼å¿…é¡»ä¸º<strong>3</strong>ã€‚</p></li><li><p>YBR_FULL</p><p>é€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œæ¯ä¸ªåƒç´ ç”±ä¸€ä¸ªäº®åº¦<strong>Y</strong>(luminance)å’Œä¸¤ä¸ªè‰²åº¦<strong>Cb</strong>(è“è‰²)ã€<strong>Cr</strong>(çº¢è‰²)ç»„æˆã€‚Samples Per Pixelå€¼ä¸º<strong>3</strong>ã€‚
$$Y=+0.2990R+0.5870G+0.1140B$$
$$Cb=-0.1687R-0.3313G+0.5000B+128$$
$$Cr=+0.5000R-0.4187G-0.0813B+128$$</p></li><li><p>YBR_FULL_422</p><p>ç±»ä¼¼äºYBR_FULLï¼Œé€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æœ‰å¯¹åº”çš„äº®åº¦<strong>Y</strong>(luminance)ï¼Œ<strong>æ¯ä¸¤ä¸ªåƒç´ ç‚¹é‡‡é›†ä¸€æ¬¡è‰²åº¦ä¿¡å·</strong>ï¼Œç¼ºå°‘çš„è‰²åº¦ä¿¡æ¯é€šè¿‡å†…æ’è¡¥ç‚¹çš„æ–¹å¼è¿ç®—å¾—åˆ°ã€‚
Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ï¼ŒPlanar Configurationçš„å€¼å¿…é¡»æ˜¯<strong>0</strong>ï¼Œåƒç´ å­˜å‚¨çš„æ ¼å¼ä¸ºï¼š<code>Y, Y, Cb, Cr, ...</code></p></li><li><p>YBR_PARTIAL_422(Retired)</p><p>ç±»ä¼¼äºYBR_FULL_422ï¼Œé€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œä¸è¿‡äº®åº¦å’Œè‰²åº¦çš„è®¡ç®—æ–¹å¼å’ŒYBR_FULLçš„è®¡ç®—æ–¹å¼ä¸åŒã€‚
$$Y=+0.2568R+0.5041G+0.0979B+16$$
$$Cb=-0.1482R-0.2910G+0.4392B+128$$
$$Cr=+0.4392R-0.3678G-0.0714B+128$$</p></li><li><p>YBR_PARTIAL_420</p><p>ç±»ä¼¼äºYBR_PARTIAL_422ï¼Œé€šè¿‡è‰²åº¦ä¿¡å·æ¥è¡¨ç¤ºé¢œè‰²çš„æ ¼å¼ï¼Œä¸åŒçš„æ˜¯ï¼Œç”¨4:2:2çš„é‡‡æ ·æ–¹å¼æ—¶ï¼Œè¡Œæ–¹å‘çš„è‰²åº¦ä¿¡æ¯ä¼šè¢«ä¸¢æ‰ä¸€åŠï¼Œè€Œ4:2:0çš„é‡‡æ ·æ–¹å¼ï¼Œä¸ä»…ä¼šæŠŠè¡Œæ–¹å‘çš„è‰²åº¦ä¿¡æ¯ä¸¢æ‰ä¸€åŠï¼Œåˆ—æ–¹å‘çš„è‰²åº¦ä¿¡æ¯ä¹Ÿä¼šè¢«ä¸¢æ‰ä¸€åŠã€‚è‰²åº¦çš„é‡‡æ ·ï¼ˆCb,Crï¼‰åªæœ‰äº®åº¦Y(luminance)çš„ 1/4ã€‚
Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ï¼ŒPlanar Configurationçš„å€¼å¿…é¡»æ˜¯<strong>0</strong>ã€‚</p></li><li><p>YBR_ICT</p><p>Irreversible Color Transformation.(ä¸å¯é€†é¢œè‰²å˜æ¢)</p><p>YCbCrçš„è®¡ç®—æ–¹å¼å’ŒYBR_FULLä¸€æ ·ã€‚Yä¸º0æ—¶è¡¨ç¤ºé»‘è‰²ï¼ŒCbï¼ŒCréƒ½ä¸º0æ—¶è¡¨ç¤ºæ²¡æœ‰é¢œè‰²ã€‚
JPEG 2000æœ‰æŸå‹ç¼©çš„å½©è‰²å›¾åƒã€‚Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ï¼ŒPlanar Configurationçš„å€¼å¿…é¡»æ˜¯<strong>0</strong>ã€‚</p></li><li><p>YBR_RCT</p><p>Reversible Color Transformation.(å¯é€†é¢œè‰²å˜æ¢)</p><p>JPEG 2000æ— æŸå‹ç¼©çš„å½©è‰²å›¾åƒã€‚Samples Per Pixelçš„å€¼åº”è¯¥ä¸º3ã€‚
ä»RGBè½¬æ¢åˆ°YBR_RCT
$$Y=floor(\frac{R+2G+B}{4})$$
$$Cb=B-G$$
$$Cr=R-G$$
ä»YBR_RCTè½¬æ¢åˆ°RGB
$$R=Cr+G$$
$$G=Y-floor(\frac{Cb+Cr}{4})$$
$$B=Cb+G$$</p></li><li><p>ä¸å†ä½¿ç”¨çš„æ ¼å¼</p><p>HSVã€ARGBã€CMYK</p></li></ul><h3 id=planar-configuration>Planar Configuration<a hidden class=anchor aria-hidden=true href=#planar-configuration>#</a></h3><p>æŒ‡å®šé¢œè‰²æ˜¯æŒ‰ç…§åƒç´ æ¥æ’åˆ—çš„æˆ–æ˜¯æŒ‰å¹³é¢ï¼ˆplaneï¼‰æ¥æ’åˆ—çš„ã€‚å½“Samples Per Pixelå¤§äº1æ—¶åº”è®¾å®šæ­¤å€¼ã€‚
å½“å€¼ä¸º0æ—¶è¡¨ç¤ºé¢œè‰²æŒ‰åƒç´ æ’åˆ—ã€‚å¯¹äºRGBå›¾åƒï¼Œåƒç´ çš„æ ¼å¼ä¸ºï¼š<code>R1,G1,B1,R2,G2,B2,...</code>
å½“å€¼ä¸º1æ—¶è¡¨ç¤ºé¢œè‰²æŒ‰å¹³é¢æ’åˆ—ã€‚å¯¹äºRGBå›¾åƒï¼Œåƒç´ çš„æ ¼å¼ä¸ºï¼š<code>R1,R2,R3,...Rn,G1,G2,G3,...Gn,B1,B2,B3,...Bn</code></p><h3 id=rows>Rows<a hidden class=anchor aria-hidden=true href=#rows>#</a></h3><p>å›¾åƒçš„è¡Œæ•°é‡ï¼Œå³å›¾åƒçš„é«˜(Height)ã€‚</p><h3 id=columns>Columns<a hidden class=anchor aria-hidden=true href=#columns>#</a></h3><p>å›¾åƒçš„åˆ—æ•°é‡ï¼Œå³å›¾åƒçš„å®½(Width)ã€‚</p><h3 id=bits-allocated-bits-stored-high-bit-pixel-representation>Bits Allocated, Bits Stored, High Bit, Pixel Representation<a hidden class=anchor aria-hidden=true href=#bits-allocated-bits-stored-high-bit-pixel-representation>#</a></h3><p>Bits AllocatedæŒ‡å®šæ¯ä¸ªåƒç´ åˆ†é…å¤šå°‘ä½(bit)ã€‚å€¼åº”å½“ä¸º1æˆ–è€…8çš„å€æ•°ã€‚è€Œå¯¹äºå›¾åƒåƒç´ ï¼ŒBits Allocatedçš„å€¼é€šå¸¸ä¸º8æˆ–è€…16ï¼Œå®é™…ä¸Šå¯ä»¥ç†è§£ä¸ºæ¯ä¸ªåƒç´ åˆ†é…å¤šå°‘å­—èŠ‚ï¼Œå› ä¸ºæ˜¯8çš„å€æ•°ã€‚</p><p>Bits StoredæŒ‡å®šå­˜å‚¨æ¯ä¸ªåƒç´ å ç”¨äº†å¤šå°‘ä½(bit)ï¼Œå€¼ä¸èƒ½å¤§äºBits Allocatedã€‚</p><p>High Bitåˆ™æŒ‡å®šäº†åƒç´ çš„æœ€é«˜ä½ï¼Œé€šå¸¸åº”è¯¥æ˜¯<code>Bits Stored - 1</code>ã€‚</p><p>Pixel RepresentationæŒ‡å®šäº†åƒç´ æ•°æ®çš„ç±»å‹ã€‚å€¼åªèƒ½ä¸º0æˆ–è€…1ï¼Œå¯¹äºå½©è‰²å›¾åƒï¼Œå€¼åªèƒ½ä¸º0ã€‚
å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºåƒç´ ä¸º<strong>æ— ç¬¦å·æ•´å‹</strong>ï¼ˆunsigned integerï¼‰ã€‚
å€¼ä¸º1æ—¶ï¼Œè¡¨ç¤ºåƒç´ ä¸º<strong>2çš„è¡¥ç </strong>ï¼Œå…¶å®å°±æ˜¯æœ‰ç¬¦å·æ•´å‹ï¼Œå³å…è®¸å­˜åœ¨è´Ÿæ•°ã€‚
è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œå¦‚æœä¸èƒ½æ­£ç¡®å¤„ç†è´Ÿæ•°ï¼Œå…¨éƒ¨æŒ‰ç…§æ— ç¬¦å·æ•´å‹æ¥è®¡ç®—çš„è¯ï¼Œå°±ä¼šé‡åˆ°ç¬¦å·ä½çš„é—®é¢˜ï¼Œå³ä¸€ä¸ªè´Ÿæ•°ä¼šå˜æˆä¸€ä¸ªå¾ˆå¤§çš„æ­£æ•°ï¼Œå›¾åƒä¸ŠåŸæœ¬æ˜¯é»‘è‰²çš„åŒºåŸŸä¼šå˜å¾—å¾ˆäº®ã€‚</p><h3 id=pixel-data>Pixel Data<a hidden class=anchor aria-hidden=true href=#pixel-data>#</a></h3><p>å›¾åƒåƒç´ ã€‚ä¸€å †äºŒè¿›åˆ¶æ•°å­—ï¼Œé€šå¸¸ä¼šå­˜æ”¾åœ¨Dicomæ–‡ä»¶æœ€åçš„ä½ç½®ã€‚</p><h2 id=æœ€å>æœ€å<a hidden class=anchor aria-hidden=true href=#æœ€å>#</a></h2><p>å…¶å®ï¼Œåœ¨å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œä¸€äº›ä¸œè¥¿æˆ‘éƒ½è¿˜æ˜¯ä¸€çŸ¥åŠè§£çš„ï¼Œåœ¨å†™çš„è¿‡ç¨‹ä¸­æˆ‘ä¹Ÿæ˜¯ä¸æ–­çš„åœ¨æŸ¥é˜…èµ„æ–™å’Œæºç ã€‚å…¶ä¸­ä¸€äº›ä¸œè¥¿éš¾å…ä¼šæºæ‚äº†è‡ªå·±çš„ç†è§£ï¼Œå¦‚æœæœ‰é”™è¯¯çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ã€‚</p><p><strong>å‚è€ƒ</strong></p><ul><li><a href=https://dicom.innolitics.com/ciods/mr-image/image-pixel/00280004>DICOM Standard Browser</a></li><li><a href=https://www.nmm-hd.org/doc/%E9%A2%9C%E8%89%B2%E7%A9%BA%E9%97%B4>é¢œè‰²ç©ºé—´</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://kira-96.github.io/tags/dicom/>DICOM</a></li><li><a href=https://kira-96.github.io/tags/%E5%9B%BE%E5%83%8F/>å›¾åƒ</a></li></ul><nav class=paginav><a class=prev href=https://kira-96.github.io/posts/%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%88%B0c__/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>C#ä¼ é€’å‡½æ•°æŒ‡é’ˆåˆ°C++</span>
</a><a class=next href=https://kira-96.github.io/posts/rust-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90%E6%94%B6%E9%9B%86/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>Rust å­¦ä¹ èµ„æºæ”¶é›†</span></a></nav></footer><script src=https://utteranc.es/client.js repo=kira-96/kira-96.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>Â© 2019-2025 <a href=/>kira&rsquo;s blog</a> Â· LICENSED under <a href=https://github.com/kira-96/kira-96.github.io/tree/main/LICENSE>CC-BY-4.0</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>document.querySelectorAll(".fold-button").forEach(e=>{e.addEventListener("click",t=>{const n=t.target.closest(".mac-codeblock"),s=n.querySelector(".mac-content");s.classList.toggle("folded"),e.classList.toggle("folded")})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>