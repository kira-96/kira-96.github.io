<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.83.1" />
  <title> WPFå’ŒMFCè¿›ç¨‹é—´ä¼ é€’æ•°æ® | kira&#39;s åšå®¢ </title>
  <meta name="description" content="WPFå’ŒMFCè¿›ç¨‹é—´ä¼ é€’æ•°æ®">
  <link rel="stylesheet" href="https://kira-96.github.io/css/simpleness.css">
  <link rel="canonical" href="https://kira-96.github.io/posts/WPF%E5%92%8CMFC%E8%BF%9B%E7%A8%8B%E9%97%B4%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/">
  <link rel="alternate" type="application/rss+xml" href="" title="kira&#39;s åšå®¢">
  
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
  
  <meta name="theme-color" content="#ffffff">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="WPFå’ŒMFCè¿›ç¨‹é—´ä¼ é€’æ•°æ®">
  <link rel="apple-touch-icon" sizes="152x152" href="https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/icons/apple-icon-180x180.png">
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon.ico">
  <link rel="icon" sizes="16x16" href="https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-16x16.png">
  <link rel="icon" sizes="32x32" href="https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-32x32.png">
  <link rel="icon" sizes="96x96" href="https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/favicon-96x96.png">
  <link rel="manifest"  href="https://cdn.jsdelivr.net/gh/kira-96/kira-96.github.io@gh-pages/manifest.json">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
  <script defer src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
  
</head>

<body class="container">
  <nav class="navigation">
  <div class="nav-left">
    
    <div class="nav-item nav-title">
      <a href="https://kira-96.github.io/"> kira&#39;s åšå®¢</a>
    </div>
    <div class="nav-item nav-menu">
      
      <a href="/"> Home</a>
      
      <a href="/notes/"> Notes</a>
      
    </div>
  </div>
  <div class="nav-item nav-right fontawesome">
    
    
    <a href="https://github.com/kira-96/" target="_blank">
      <i title="GitHub" class="fab fa-github"></i>
    </a>
    
    
    <a href="https://kira-96.github.io/index.xml" target="_blank">
      <i title="RSS" class="fas fa-rss"></i>
    </a>
    
  </div>
</nav>

  
<article class="post">
  <header class="post-header">
    <h1 style="text-align: center;" >WPFå’ŒMFCè¿›ç¨‹é—´ä¼ é€’æ•°æ®</h1>
    <div class="post-metadata">
    
      <time datetime="2019-05-27T21:54:45&#43;08:00">May 27, 2019</time> &nbsp; 
    
    
    
      <i class="far fa-eye"></i>
      <span id="/posts/WPF%E5%92%8CMFC%E8%BF%9B%E7%A8%8B%E9%97%B4%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/" class="leancloud_visitors" data-flag-title="WPFå’ŒMFCè¿›ç¨‹é—´ä¼ é€’æ•°æ®">
          <span class="leancloud-visitors-count">  </span>
      </span> &nbsp;
    
    
    
      <i class="far fa-clock"></i>
      
      
      
      
        5 min
      
      21 s
      &nbsp;
    
    
      <i class="fas fa-folder"></i>
      
      <a href="/categories/%E7%BC%96%E7%A8%8B">ç¼–ç¨‹</a>
      &nbsp;
      
    
    </div>
  </header>

  

  <div class="post-text">
    <h2 id="è¿›ç¨‹é—´ä¼ é€’æ•°æ®çš„æ–¹æ³•">è¿›ç¨‹é—´ä¼ é€’æ•°æ®çš„æ–¹æ³•</h2>
<p>åœ¨è¿›ç¨‹é—´ä¼ é€’æ•°æ®ä¹Ÿå°±æ„å‘³ç€ä¸¤ä¸ªä¸åŒçš„åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šè®¯ï¼Œå¤§å®¶å¯èƒ½ä¼šæƒ³åˆ°ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—(Message Queue)æ¥ä½œä¸ºè§£å†³æ–¹æ¡ˆï¼Œå½“ç„¶è¿™å¯èƒ½æ˜¯æœ€ä¼˜è§£ï¼Œç„¶è€Œè¿™é‡Œæˆ‘è¦è®²çš„æ˜¯å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡Windowsçš„æ¶ˆæ¯æœºåˆ¶æ¥ä¼ é€’æ•°æ®ï¼Œå†…å®¹æ¯”è¾ƒç¡¬æ ¸ã€‚</p>
<p>ä¾æ—§ç”¨åˆ°äº†ä¸¤ä¸ªWindowsçš„APIï¼Œ<code>FindWindow</code>å’Œ<code>SendMessage</code>ï¼Œä»¥åŠWPFå¦‚ä½•å’ŒMFCçª—å£é€šè®¯ï¼Œå¯ä»¥å‚è€ƒ<a href="https://kira-96.github.io/posts/wpf-ru-he-chu-liwindows-xiao-xi.html">ä¸Šä¸€ç¯‡æ–‡ç« </a>ã€‚</p>
<h2 id="ä¼ é€’æ•°æ®çš„æ–¹å¼">ä¼ é€’æ•°æ®çš„æ–¹å¼</h2>
<p>è¿™é‡Œéœ€è¦å…ˆçŸ¥é“ä¸€ä¸ªWindowæ¶ˆæ¯<code>WM_COPYDATA</code>
å®ƒåœ¨<code>WinUser.h</code>ä¸­çš„å®šä¹‰å¦‚ä¸‹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#define WM_COPYDATA 0x004A
</span></code></pre></div><p>è¿™ä¸ªæ¶ˆæ¯å°±æ˜¯è¿™æ¬¡è¦è®²çš„å†…å®¹ï¼Œé€šè¿‡è¿™ä¸ªæ¶ˆæ¯å°±å¯ä»¥åœ¨ä¸åŒçš„çª—å£é—´ä¼ é€’æ•°æ®äº†ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ<code>WPARAM</code>æ˜¯å‘é€æ¶ˆæ¯çª—å£çš„å¥æŸ„ï¼Œ<code>LPARAM</code>æ˜¯ä¸€ä¸ªç»“æ„ä½“çš„æŒ‡é’ˆï¼Œè¿™ä¸ªç»“æ„ä½“åœ¨<code>WinUser.h</code>é‡Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">/*
</span><span style="color:#75715e"> * lParam of WM_COPYDATA message points to...
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">tagCOPYDATASTRUCT</span> {
    ULONG_PTR dwData;
    DWORD cbData;
    _Field_size_bytes_(cbData) PVOID lpData;
} COPYDATASTRUCT, <span style="color:#f92672">*</span>PCOPYDATASTRUCT;
</code></pre></div><p>å—¯&hellip;çœ‹èµ·æ¥ä¹Ÿä¸æ˜¯å¾ˆå¤æ‚ï¼Œä¸ºäº†èƒ½å¤Ÿæ­£ç¡®å¤„ç†è¿™ä¸ªæŒ‡é’ˆï¼Œéœ€è¦åœ¨C#ä¸­ä¹Ÿå®šä¹‰ä¸€ä¸ªç›¸åŒçš„ç»“æ„ä½“</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#75715e">/// &lt;summary&gt;
</span><span style="color:#75715e">/// COPYDATASTRUCT
</span><span style="color:#75715e">/// å¯¹åº” C++ é‡Œçš„ COPYDATASTRUCT
</span><span style="color:#75715e">/// ä¸èƒ½æ›´æ”¹
</span><span style="color:#75715e">/// &lt;/summary&gt;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">[StructLayout(LayoutKind.Sequential)]</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">COPYDATASTRUCT</span>
{
    <span style="color:#66d9ef">public</span> IntPtr dwData; <span style="color:#75715e">//å¯ä»¥æ˜¯ä»»æ„å€¼
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> cbData;    <span style="color:#75715e">//æŒ‡å®šlpDataå†…å­˜åŒºåŸŸçš„å­—èŠ‚æ•°
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> IntPtr lpData; <span style="color:#75715e">//å‘é€ç»™ç›®å½•çª—å£æ‰€åœ¨è¿›ç¨‹çš„æ•°æ®
</span><span style="color:#75715e"></span>}
</code></pre></div><p>è¿™æ ·å°±å¯ä»¥äº†ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯<code>lpData</code>ï¼Œå®ƒå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡çš„æŒ‡é’ˆï¼Œåªè¦C++å’ŒC#ä¸¤è¾¹å®šä¹‰äº†ä¸€ä¸ªç›¸åŒçš„ç»“æ„ä½“ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒæ¥ç›´æ¥ä¼ é€’ç»“æ„ä½“å¯¹è±¡ğŸ˜®ï¼Œè¿™ç§æ–¹å¼æ¯”é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ä¼ é€’æ•°æ®è¦å¿«å¾—å¤šã€‚</p>
<p>é‚£ä¹ˆå…ˆæ¥å®šä¹‰ä¸€ä¸ªç®€å•çš„ç»“æ„ä½“å§ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">// C++
</span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">StructUser</span>
{
	<span style="color:#66d9ef">char</span> UserName[<span style="color:#ae81ff">32</span>];
	<span style="color:#66d9ef">char</span> Password[<span style="color:#ae81ff">32</span>];

	StructUser()
	{
		ZeroMemory(UserName, <span style="color:#ae81ff">32</span>);
		ZeroMemory(Password, <span style="color:#ae81ff">32</span>);
	}
};
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#75715e">// C#
</span><span style="color:#75715e"></span><span style="color:#a6e22e">[StructLayout(LayoutKind.Sequential)]</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">StructUser</span>
{
<span style="color:#a6e22e">    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 32)]</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> UserName;
<span style="color:#a6e22e">    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 32)]</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Password;
}
</code></pre></div><p>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªUserçš„ç»“æ„ä½“ï¼Œ<code>UserName</code>å’Œ<code>Password</code>éƒ½æ˜¯é•¿åº¦ä¸º32çš„å­—ç¬¦ä¸²ï¼Œæ³¨æ„C#ä¸­ç»“æ„ä½“çš„å®šä¹‰æ–¹å¼ï¼Œè¿™é‡ŒæŒ‡å®šäº†å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå°±æ˜¯ä¸ºäº†å’ŒC++çš„ç»“æ„ä½“ä¿æŒä¸€è‡´ã€‚</p>
<p>å…ˆæ¥çœ‹çœ‹C++ä¸­å¦‚ä½•å‘é€å’Œå¤„ç†<code>WM_COPYDATA</code>æ¶ˆæ¯çš„ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">// å‘é€
</span><span style="color:#75715e"></span>StructUser user;
<span style="color:#66d9ef">char</span> userName[<span style="color:#ae81ff">32</span>];
<span style="color:#66d9ef">char</span> password[<span style="color:#ae81ff">32</span>];
<span style="color:#75715e">// GetDlgItem(IDC_EDIT_USERNAME)-&gt;GetWindowTextA(userName, 32);
</span><span style="color:#75715e">// GetDlgItem(IDC_EDIT_PASSWORD)-&gt;GetWindowTextA(password, 32);
</span><span style="color:#75715e"></span>memcpy(user.UserName, userName, <span style="color:#ae81ff">32</span>);
memcpy(user.Password, password, <span style="color:#ae81ff">32</span>);

COPYDATASTRUCT copyData;
copyData.dwData <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
copyData.lpData <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>user;
copyData.cbData <span style="color:#f92672">=</span> <span style="color:#66d9ef">sizeof</span>(StructUser);

HWND hWnd <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>;
<span style="color:#66d9ef">if</span> (m_pTargerWnd <span style="color:#f92672">==</span> <span style="color:#66d9ef">nullptr</span>)
{
	hWnd <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>FindWindow(<span style="color:#66d9ef">nullptr</span>, <span style="color:#e6db74">&#34;WpfWindow&#34;</span>);
}
<span style="color:#66d9ef">else</span>
{
	hWnd <span style="color:#f92672">=</span> m_pTargerWnd<span style="color:#f92672">-&gt;</span>GetSafeHwnd();
}
<span style="color:#f92672">::</span>SendMessage(hWnd, WM_COPYDATA, (WPARAM)GetSafeHwnd(), (LPARAM)<span style="color:#f92672">&amp;</span> copyData);

<span style="color:#75715e">// æ¥æ”¶
</span><span style="color:#75715e"></span><span style="color:#75715e">/* C++ ä¸­ç›¸å…³ä»£ç 
</span><span style="color:#75715e"> * å¤„ç† WM_COPYDATA æ¶ˆæ¯
</span><span style="color:#75715e"> * Header File(.h)
</span><span style="color:#75715e">---------------------------------------------------------------------
</span><span style="color:#75715e">...
</span><span style="color:#75715e">afx_msg BOOL OnCopyData(CWnd *pWnd, COPYDATASTRUCT *pCopyDataStruct);
</span><span style="color:#75715e">...
</span><span style="color:#75715e">DECLARE_MESSAGE_MAP()
</span><span style="color:#75715e">---------------------------------------------------------------------
</span><span style="color:#75715e">* Source File(.cpp)
</span><span style="color:#75715e">BEGIN_MESSAGE_MAP(CxxxDlg, CDialogEx)
</span><span style="color:#75715e">    ...
</span><span style="color:#75715e">    ON_WM_COPYDATA()
</span><span style="color:#75715e">    ...
</span><span style="color:#75715e">    END_MESSAGE_MAP()
</span><span style="color:#75715e">...
</span><span style="color:#75715e"> */</span>

BOOL CxxDlg<span style="color:#f92672">::</span>OnCopyData(CWnd<span style="color:#f92672">*</span> pWnd, COPYDATASTRUCT<span style="color:#f92672">*</span> pCopyDataStruct)
{
	<span style="color:#66d9ef">if</span> (pWnd <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nullptr</span>)
	{
		m_pTargerWnd <span style="color:#f92672">=</span> pWnd;
	}
	<span style="color:#66d9ef">if</span> (pCopyDataStruct <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nullptr</span>)
	{
		StructUser<span style="color:#f92672">*</span> pUser <span style="color:#f92672">=</span> (StructUser<span style="color:#f92672">*</span>)(pCopyDataStruct<span style="color:#f92672">-&gt;</span>lpData);
		<span style="color:#75715e">// DWORD dwLen = pCopyDataStruct-&gt;cbData;
</span><span style="color:#75715e"></span>
		<span style="color:#75715e">// GetDlgItem(IDC_EDIT_USERNAME)-&gt;SetWindowTextA(pUser-&gt;UserName);
</span><span style="color:#75715e"></span>		<span style="color:#75715e">// GetDlgItem(IDC_EDIT_PASSWORD)-&gt;SetWindowTextA(pUser-&gt;Password);
</span><span style="color:#75715e"></span>	}

	<span style="color:#66d9ef">return</span> CDialogEx<span style="color:#f92672">::</span>OnCopyData(pWnd, pCopyDataStruct);
}
</code></pre></div><p>C#ä¼šæ¯”è¾ƒå¤æ‚ä¸€äº›</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#75715e">// æ¶ˆæ¯å¤„ç†å‡½æ•°
</span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span> IntPtr WndProcFunc(IntPtr hwnd, <span style="color:#66d9ef">int</span> msg, IntPtr wParam, IntPtr lParam, <span style="color:#66d9ef">ref</span> <span style="color:#66d9ef">bool</span> handled)
{
    <span style="color:#66d9ef">switch</span> (msg)
    {
        <span style="color:#66d9ef">case</span> WM_COPYDATA:  <span style="color:#75715e">// public const int WM_COPYDATA = 0x004A;
</span><span style="color:#75715e"></span>            IntPrt hWnd_Target = wParam;
            COPYDATASTRUCT param = Marshal.PtrToStructure&lt;COPYDATASTRUCT&gt;(lParam);
            StructUser user = Marshal.PtrToStructure&lt;StructUser&gt;(param.lpData);
            <span style="color:#75715e">// UserName.Text = user.UserName;
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// Password.Text = user.Password;
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">break</span>;
        <span style="color:#66d9ef">default</span>:
            <span style="color:#66d9ef">break</span>;
    }

    <span style="color:#66d9ef">return</span> IntPtr.Zero;
}

<span style="color:#75715e">// å‘é€æ¶ˆæ¯
</span><span style="color:#75715e"></span>StructUser sctUser = <span style="color:#66d9ef">new</span> StructUser()
{
    UserName = UserName.Text,
    Password = Password.Text
};

IntPtr userPtr = Marshal.AllocHGlobal(Marshal.SizeOf&lt;StructUser&gt;());
Marshal.StructureToPtr&lt;StructUser&gt;(sctUser, userPtr, <span style="color:#66d9ef">true</span>);

COPYDATASTRUCT copyData = <span style="color:#66d9ef">new</span> COPYDATASTRUCT()
{
    dwData = IntPtr.Zero,
    cbData = Marshal.SizeOf&lt;StructUser&gt;(),
    lpData = userPtr,
};

IntPtr copyDataPtr = Marshal.AllocHGlobal(Marshal.SizeOf&lt;COPYDATASTRUCT&gt;());
Marshal.StructureToPtr&lt;COPYDATASTRUCT&gt;(copyData, copyDataPtr, <span style="color:#66d9ef">true</span>);

<span style="color:#66d9ef">if</span> (hWnd_Target == IntPtr.Zero)
    hWnd_Target = Win32Api.FindWindow(<span style="color:#66d9ef">null</span>, <span style="color:#e6db74">&#34;MfcWindow&#34;</span>);

hWnd_MainWnd = <span style="color:#66d9ef">new</span> WindowInteropHelper(<span style="color:#66d9ef">this</span>).Handle;

<span style="color:#66d9ef">if</span> (hWnd_Target != IntPtr.Zero)
    Win32Api.SendMessage(hWnd_Target, WM_COPYDATA, hWnd_MainWnd, copyDataPtr);

Marshal.FreeHGlobal(userPtr);     <span style="color:#75715e">//
</span><span style="color:#75715e"></span>Marshal.FreeHGlobal(copyDataPtr); <span style="color:#75715e">// æœ€åä¸€å®šè¦é‡Šæ”¾æ‰éæ‰˜ç®¡å†…å­˜
</span></code></pre></div><p>å¤„ç†æ¶ˆæ¯çš„åœ°æ–¹å’Œä¸Šä¸€ç¯‡ä¸€æ ·ï¼Œå‘é€çš„åœ°æ–¹æ¯”è¾ƒå¤æ‚ï¼Œæ€»ä½“æ¥è®²å°±æ˜¯ç”¨<code>Marshal</code>å¼€è¾Ÿäº†ä¸¤å—éæ‰˜ç®¡çš„å†…å­˜æ¥å­˜æ”¾ä¸¤ä¸ªç»“æ„ä½“çš„æ•°æ®ï¼Œç­‰åˆ°æ¶ˆæ¯è¢«å¤„ç†ä¹‹åå†å°†éæ‰˜ç®¡å†…å­˜é‡Šæ”¾æ‰ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</p>
<p>é‚£ä¹ˆï¼Œè¿™æ¬¡çš„å†…å®¹å°±åˆ°è¿™é‡Œäº†ï¼Œä¸»è¦å†…å®¹éƒ½æ˜¯ä»£ç ï¼Œä½†å…¶å®ä¹Ÿä¸å¤æ‚ï¼Œåªæ˜¯éœ€è¦æ…¢æ…¢æ¶ˆåŒ–ã€‚</p>

  </div>

  <footer class="post-footer">
    

    
    <div class="post-tags">
      <i class="fas fa-tags"></i>
      
        <a href="/tags/WPF">WPF</a>
        &nbsp;
      
        <a href="/tags/MFC">MFC</a>
        &nbsp;
      
    </div>
    

    
    
    <div class="related-posts">
      <h4>Related Posts</h4>
      
      <i class="fas fa-paperclip"></i>
      <a href="/posts/WPF%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Windows%E6%B6%88%E6%81%AF/">WPFå¦‚ä½•å¤„ç†Windowsæ¶ˆæ¯</a>
      <br>
      
    </div>
    
  </footer>
  
  <div class="comments">
  <div class="comments">



  <div class="comments-item comments-valine" >
    
    
    
    <div id="vcomments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <script type="text/javascript">
      new Valine({
          el: '#vcomments',
          highlight: false,
          lang: "zh-CN",
          appId: "X8gbfFnXlzbwF0YQQ91rSogz-gzGzoHsz",
          appKey: "ljO0GYMaeqs5KWK2vCtk1Ii8",
          placeholder: "åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„ç•™è¨€ä¸¨æ”¯æŒ Markdown è¯­æ³•",
          requiredFields: ["nick","mail"],
          avatar: "mp",
          visitor:  true ,
          recordIP: true
      });
    </script>
    <script>
      if(window.location.hash){
          var checkExist = setInterval(function() {
             if ($(window.location.hash).length) {
                $('html, body, article').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
                clearInterval(checkExist);
             }
          }, 100);
      }
    </script>
  </div>

</div>
  </div>
</article>

  <div class="foot">
  
  &copy; 2019 - 2021 &#183;
  <a href="/"> kira&#39;s åšå®¢ </a> &#183;
  Theme <a href="https://github.com/RainerChiang/simpleness">Simpleness</a> Powered by <a href="https://gohugo.io/">Hugo</a> &#183;
  <a href="#"><i class="fas fa-chevron-up"></i></a>
</div>
</body>
  <script src="/js/lazyload.min.js"></script>
<script>
  var lazyImage = new LazyLoad({container: document.getElementById('article')});
</script>




</html>
